---
import TeiContainer from "../components/TeiContainer"
import AppLayout from "../layouts/AppLayout.astro"
import { TeiBaseStyle, processTei } from 'astro-tei';

const teiFile = (await import("../../data/testTEI.xml?raw")).default
const jsdom = processTei(teiFile)
console.log({jsdom: jsdom.window.document})
const tei = jsdom.serialize()
const teiDom = jsdom.window.document
const elements = teiDom.documentElement.getAttribute("data-elements").split(",")
---

<AppLayout title="TEI Test" selection="Alcibiades 109c9-112d10 (sample content)">
  <TeiBaseStyle/>
  <TeiContainer doc={teiDom} data={tei} elements={elements} client:load />
</AppLayout>
